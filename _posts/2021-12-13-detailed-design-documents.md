---
layout: post
title: 詳細なドキュメントを書きたがる
categories: scrum
tags: event
date: 2021-12-13
#lastmod: 2021-11-28
---
スクラムやアジャイルの誤解として「設計書は書かなくてもよいんだよね」、ということを言われますが、実際にはまったく作成しないということはなく、必要であればきちんと作成します。ただ、ウォーターフォールで作成しているレベルまでのものは必要はないです。ウォーターフォールだと作成した設計書を次の工程のインプットとして別の誰かが使うことが想定されるため、事細かなものを作成しなくてはなりません。しかし、スクラムであれば設計書を使用するのは同じチームメンバーだし、設計からコーディングまで間が空くことなくすぐに着手することがほとんどです。なので、プロダクトバックログアイテムの受け入れ基準が明確になるようなシステム概要を箇条書きレベルで記載できていればよいと考えています。あとはテーブル定義やチェック処理のリストなどを書くことが多いですが、せいぜいそれくらいです。
<!--more-->

また、ウォーターフォールとの大きな違いとして、一般的には設計書を納品するつもりがないということが一番大きいかもしれません。（どのような契約とするかにもよりますが）設計書を作成してユーザーにレビューし、最終的に納品する必要があれば、文書として体裁を整える必要があるし必要以上に手間がかかってしまいます。そこで、設計書はコーディングがスムーズに進めることができるようなメモ書き程度のもの、という位置付けで作成することにしていました。

スクラムによる開発が始まって半年ぐらい経過したとき、チームの自主性を考えて設計書のレビュー等には参加していなかったのですが、たまには参加してみようと思って参加しました。そこで確認した設計書は、当初考えていた想定よりもずっと詳細なものができていました。文書の体裁としては箇条書きを中心とした簡素な感じではありましたが、記述レベルはかなり詳細なもので、ウォーターフォールで作るようなレベルのものです。

作成して困ることはないでしょうけれど、スクラムで開発している以上やっぱり無駄な作業をしてしまっているので、チームに確認してみたところ以下のような理由でした。

* レビューなどで他の人に説明するとき記載がないとツッコまれるため、あらかじめ詳細に書くようになった
* どういう風にコーディングするか分からなかったため、設計書を作成する時にコーディング方法を調査し、その結果を設計書としてまとめていた

なるほどね、簡単なものから段々と詳細な設計書へ進化（退化？）していったと。

設計書はそんなに詳細に書く必要はないよ、というのは簡単だし、きっと冒頭に書いたような誤解を招くので、スクラムで設計書を作成する意味をチームに考えてもらうことにした。ウォーターフォールではなぜ詳細な設計書が必要なんだろう、スクラムではどうだろう、スクラムとして必要な設計書のレベルはなんだろう。そんなことを話あってもらい、次のような結論になりました。

* コーディングするときに困らない程度の設計書を作成
  * メモ書き程度でよい
  * テーブル定義は必要
  * 入力チェックは必要
* 必要があれば、設計書の説明を対面で実施する
* コーディング方法の調査は、そもそもスプリント開始前に必要
  * Definition of Readyを作成すべき

一番最後に書いた、「Definition of Ready」はいままで特に作成してはいなかったんだけど、どうやって実現するのか分からないままスプリントに入ってしまうこともあり、Doneに持っていくことができないような問題もあったので、改めて定義しておこうということになりました。

開発者は、設計書なんて作りたくないものだとばかり思っていましたが、そんなこともなかったんだと驚きもありました。（私自身がそう思っていた一番のタイプですが）また、結局のところアジャイルマニフェストでうたわれている次の一文の通りなんだなと認識しました。

> 包括的なドキュメントよりも動くソフトウェア<br>
> [https://agilemanifesto.org/iso/ja/manifesto.html](https://agilemanifesto.org/iso/ja/manifesto.html)

今回決めた方針でもうしばらく経っていますが、今まで以上にスムーズに進めることができているかなと思っています。